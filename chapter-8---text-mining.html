<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 - Text mining | INFO 6270 - Introduction to Data Science</title>
  <meta name="description" content="Chapter 8 - Text mining | INFO 6270 - Introduction to Data Science" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 - Text mining | INFO 6270 - Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="pmongeon/info6270" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 - Text mining | INFO 6270 - Introduction to Data Science" />
  
  
  

<meta name="author" content="Philippe Mongeon" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter-7---visualizing-data.html"/>
<link rel="next" href="chapter-9---k-nearest-neighbors.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><center>INFO6270 - Introduction to Data Science</center></li>
<li><center>Winter 2022</center></li>
<li><center>Philippe Mongeon</center></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course overview</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#assignments"><i class="fa fa-check"></i>Assignments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bibliography"><i class="fa fa-check"></i>Bibliography</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#official-syllabus"><i class="fa fa-check"></i>Official syllabus</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html"><i class="fa fa-check"></i>Chapter 1 - What is data science?</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#what-is-data-science"><i class="fa fa-check"></i>What is data science?</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#the-data-science-process"><i class="fa fa-check"></i>The data science process</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#writing-a-problem-statement"><i class="fa fa-check"></i>Writing a problem statement</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#getting-data"><i class="fa fa-check"></i>Getting data</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#homework"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html"><i class="fa fa-check"></i>Chapter 2 - Getting started with R</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#learning-objectives-1"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#setting-up-r"><i class="fa fa-check"></i>Setting up R</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#installing-r-and-rstudio"><i class="fa fa-check"></i>Installing R and Rstudio</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#explore-rstudio"><i class="fa fa-check"></i>Explore RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#first-steps-in-r"><i class="fa fa-check"></i>First steps in R</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#r-scripts"><i class="fa fa-check"></i>R scripts</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#working-directory"><i class="fa fa-check"></i>Working directory</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#executing-code"><i class="fa fa-check"></i>Executing code</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#numbers-and-strings"><i class="fa fa-check"></i>numbers and strings</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#doing-the-math"><i class="fa fa-check"></i>Doing the math</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#objects"><i class="fa fa-check"></i>Objects</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#subsetting-data"><i class="fa fa-check"></i>Subsetting data</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#logical-operators"><i class="fa fa-check"></i>Logical operators</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#conditional-statements"><i class="fa fa-check"></i>Conditional statements</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#loops-and-vectorization"><i class="fa fa-check"></i>Loops and vectorization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#homework-1"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html"><i class="fa fa-check"></i>Chapter 3 - Reading and tidying data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#learning-objectives-2"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li><a href="chapter-3---reading-and-tidying-data.html#slides"><strong>Slides</strong></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#tidy-data"><i class="fa fa-check"></i>Tidy data</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#the-tidyverse"><i class="fa fa-check"></i>The tidyverse</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#import-data"><i class="fa fa-check"></i>Import data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#delimited-file-formats"><i class="fa fa-check"></i>Delimited file formats</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#json-files"><i class="fa fa-check"></i>JSON files</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#application-programming-interface-api"><i class="fa fa-check"></i>Application programming interface (API)</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#xml-files"><i class="fa fa-check"></i>XML files</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#connections"><i class="fa fa-check"></i>Connections</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#tidy-your-data"><i class="fa fa-check"></i>Tidy your data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#reshape-data"><i class="fa fa-check"></i>Reshape data</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#expand-tables"><i class="fa fa-check"></i>Expand tables</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#handle-missing-values"><i class="fa fa-check"></i>Handle missing values</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#merge-and-split-cells"><i class="fa fa-check"></i>Merge and split cells</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#nested-data"><i class="fa fa-check"></i>Nested data</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#combine-dataframes"><i class="fa fa-check"></i>Combine dataframes</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#join-dataframes"><i class="fa fa-check"></i>Join dataframes</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#rename-variables"><i class="fa fa-check"></i>Rename variables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#export-data"><i class="fa fa-check"></i>Export data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#export-dataframes"><i class="fa fa-check"></i>Export dataframes</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#json"><i class="fa fa-check"></i>JSON</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#the-pipe"><i class="fa fa-check"></i>The Pipe</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#additional-resources"><i class="fa fa-check"></i>Additional resources</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#homework-2"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html"><i class="fa fa-check"></i>Chapter 4 - Working with strings</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#learning-objectives-3"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#dealing-with-messy-or-unstructured-data"><i class="fa fa-check"></i>Dealing with messy or unstructured data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#cleaning-messy-data"><i class="fa fa-check"></i>Cleaning messy data</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#filtering-rows-based-on-string-matches"><i class="fa fa-check"></i>Filtering rows based on string matches</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#extracting-data-from-text"><i class="fa fa-check"></i>Extracting data from text</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#the-stringr-package"><i class="fa fa-check"></i>The stringr package</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#transforming-strings"><i class="fa fa-check"></i>Transforming strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#clean-up-a-string"><i class="fa fa-check"></i>Clean up a string</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#combine-strings"><i class="fa fa-check"></i>Combine strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#splitting-strings"><i class="fa fa-check"></i>Splitting strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#subsetting-strings"><i class="fa fa-check"></i>Subsetting strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#locating-a-pattern-in-a-string"><i class="fa fa-check"></i>Locating a pattern in a string</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#testing-strings"><i class="fa fa-check"></i>Testing strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#regular-expressions-regex"><i class="fa fa-check"></i>Regular expressions (regex)</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#dealing-with-special-characters-in-strings"><i class="fa fa-check"></i>Dealing with special characters in strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#summary"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#homework-3"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html"><i class="fa fa-check"></i>Chapter 5 - R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#learning-objectives-4"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#r-markdown"><i class="fa fa-check"></i>R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#creating-a-r-markdown-file-in-rstudio"><i class="fa fa-check"></i>Creating a R Markdown file in RStudio</a></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#three-components-of-a-r-markdown-file"><i class="fa fa-check"></i>Three components of a R Markdown file</a></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#visual-mode"><i class="fa fa-check"></i>Visual mode</a></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#rendering-knitting-your-document"><i class="fa fa-check"></i>Rendering (knitting) your document</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#making-beautiful-tables-with-r-markdown"><i class="fa fa-check"></i>Making beautiful tables with R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#the-kableextra-package"><i class="fa fa-check"></i>the kableExtra package</a></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#keeping-it-simple"><i class="fa fa-check"></i>keeping it simple</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5---r-markdown.html"><a href="chapter-5---r-markdown.html#summary-1"><i class="fa fa-check"></i>Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html"><i class="fa fa-check"></i>Chapter 6 - Summarizing data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#learning-objectives-5"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#types-of-variables"><i class="fa fa-check"></i>Types of variables</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#categorical"><i class="fa fa-check"></i>Categorical</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#numerical-variables"><i class="fa fa-check"></i>Numerical variables</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#categories-represented-with-numbers"><i class="fa fa-check"></i>Categories represented with numbers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#summarizing-categorical-data"><i class="fa fa-check"></i>Summarizing categorical data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#frequency"><i class="fa fa-check"></i>Frequency</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#relative-frequency"><i class="fa fa-check"></i>Relative frequency</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#adding-a-total"><i class="fa fa-check"></i>Adding a total</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#summarizing-numerical-data"><i class="fa fa-check"></i>Summarizing numerical data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#measures-of-centrality"><i class="fa fa-check"></i>Measures of centrality</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#measures-of-dispersion"><i class="fa fa-check"></i>Measures of dispersion</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#measures-of-symmetry"><i class="fa fa-check"></i>Measures of symmetry</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#creating-a-descriptive-statistics-summary"><i class="fa fa-check"></i>Creating a descriptive statistics summary</a></li>
<li class="chapter" data-level="" data-path="chapter-6---summarizing-data.html"><a href="chapter-6---summarizing-data.html#homework-4"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html"><i class="fa fa-check"></i>Chapter 7 - Visualizing data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#the-ggplot-syntax"><i class="fa fa-check"></i>The ggplot syntax</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#the-data"><i class="fa fa-check"></i>The data</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#aesthetic-mappings"><i class="fa fa-check"></i>Aesthetic mappings</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#geoms"><i class="fa fa-check"></i>Geoms</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#adding-a-second-geom"><i class="fa fa-check"></i>Adding a second geom</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#making-pretty-figures"><i class="fa fa-check"></i>Making pretty figures</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#modifying-labels"><i class="fa fa-check"></i>Modifying labels</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#themes"><i class="fa fa-check"></i>Themes</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#colours"><i class="fa fa-check"></i>Colours</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#adjusting-axes-scales"><i class="fa fa-check"></i>Adjusting axes scales</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#choosing-the-right-visualization-for-your-data"><i class="fa fa-check"></i>Choosing the right visualization for your data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#single-discretecategorical-variable"><i class="fa fa-check"></i>Single discrete/categorical variable</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#single-continuous-variable"><i class="fa fa-check"></i>Single continuous variable</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#two-continuous-variable"><i class="fa fa-check"></i>Two continuous variable</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#two-categorical-or-discrete-variables"><i class="fa fa-check"></i>Two categorical or discrete variables</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#one-categorical-and-one-continuous-variable"><i class="fa fa-check"></i>One categorical and one continuous variable</a></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#facets"><i class="fa fa-check"></i>Facets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-7---visualizing-data.html"><a href="chapter-7---visualizing-data.html#homework-5"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html"><i class="fa fa-check"></i>Chapter 8 - Text mining</a>
<ul>
<li class="chapter" data-level="0.1" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#learning-objectives-6"><i class="fa fa-check"></i><b>0.1</b> Learning objectives</a></li>
<li class="chapter" data-level="0.2" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#introduction-3"><i class="fa fa-check"></i><b>0.2</b> Introduction</a></li>
<li class="chapter" data-level="0.3" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#the-dataset"><i class="fa fa-check"></i><b>0.3</b> The dataset</a></li>
<li class="chapter" data-level="0.4" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#data-formats-for-text-mining"><i class="fa fa-check"></i><b>0.4</b> Data formats for text-mining</a>
<ul>
<li class="chapter" data-level="0.4.1" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#tidy-text"><i class="fa fa-check"></i><b>0.4.1</b> Tidy text</a></li>
<li class="chapter" data-level="0.4.2" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#document-term-matrix"><i class="fa fa-check"></i><b>0.4.2</b> Document-term matrix</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#tokenizing"><i class="fa fa-check"></i><b>0.5</b> Tokenizing</a>
<ul>
<li class="chapter" data-level="0.5.1" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#words"><i class="fa fa-check"></i><b>0.5.1</b> Words</a></li>
<li class="chapter" data-level="0.5.2" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#sentences"><i class="fa fa-check"></i><b>0.5.2</b> Sentences</a></li>
<li class="chapter" data-level="0.5.3" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#n-grams"><i class="fa fa-check"></i><b>0.5.3</b> N-grams</a></li>
</ul></li>
<li class="chapter" data-level="0.6" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#removing-stop-words"><i class="fa fa-check"></i><b>0.6</b> Removing stop words</a></li>
<li class="chapter" data-level="0.7" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#stemming-and-lemmatization"><i class="fa fa-check"></i><b>0.7</b> Stemming and lemmatization</a></li>
<li class="chapter" data-level="0.8" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#term-frequency"><i class="fa fa-check"></i><b>0.8</b> Term frequency</a>
<ul>
<li class="chapter" data-level="0.8.1" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#overall-term-frequency"><i class="fa fa-check"></i><b>0.8.1</b> Overall term frequency</a></li>
<li class="chapter" data-level="0.8.2" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#term-frequency-by-journal"><i class="fa fa-check"></i><b>0.8.2</b> Term frequency by journal</a></li>
<li class="chapter" data-level="0.8.3" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#term-frequency-by-document"><i class="fa fa-check"></i><b>0.8.3</b> Term frequency by document</a></li>
<li class="chapter" data-level="0.8.4" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#word-clouds"><i class="fa fa-check"></i><b>0.8.4</b> Word clouds</a></li>
<li class="chapter" data-level="0.8.5" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#tf-idf"><i class="fa fa-check"></i><b>0.8.5</b> TF-IDF</a></li>
</ul></li>
<li class="chapter" data-level="0.9" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#sentiment-analysis"><i class="fa fa-check"></i><b>0.9</b> Sentiment analysis</a></li>
<li class="chapter" data-level="0.10" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#topic-modelling"><i class="fa fa-check"></i><b>0.10</b> Topic modelling</a></li>
<li class="chapter" data-level="0.11" data-path="chapter-8---text-mining.html"><a href="chapter-8---text-mining.html#other-resources"><i class="fa fa-check"></i><b>0.11</b> Other resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-9---k-nearest-neighbors.html"><a href="chapter-9---k-nearest-neighbors.html"><i class="fa fa-check"></i>Chapter 9 - K nearest neighbors</a></li>
<li class="chapter" data-level="" data-path="chapter-10---logistic-regression.html"><a href="chapter-10---logistic-regression.html"><i class="fa fa-check"></i>Chapter 10 - Logistic regression</a></li>
<li class="chapter" data-level="" data-path="chapter-11---linear-regression.html"><a href="chapter-11---linear-regression.html"><i class="fa fa-check"></i>Chapter 11 - Linear regression</a></li>
<li class="chapter" data-level="" data-path="chapter-12---principal-component-analysis.html"><a href="chapter-12---principal-component-analysis.html"><i class="fa fa-check"></i>Chapter 12 - Principal component analysis</a></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">INFO 6270 - Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-8---text-mining" class="section level1 unnumbered">
<h1>Chapter 8 - Text mining</h1>
<div id="learning-objectives-6" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> Learning objectives</h2>
<ul>
<li><p>Tidytext</p></li>
<li><p>Tokenization</p></li>
<li><p>Stop words</p></li>
<li><p>Sentiment analysis</p></li>
<li><p>TF-IDF</p></li>
<li><p>Topic modelling</p></li>
</ul>
</div>
<div id="introduction-3" class="section level2" number="0.2">
<h2><span class="header-section-number">0.2</span> Introduction</h2>
<p>Text-mining could be a course of it’s own. This short introduction introduces a few of the most important concepts and provides examples of of to perform a range of text miningtasks. We will introduce a few new packages:</p>
<ul>
<li><p><strong>tidytext</strong>: a package that contains a lot of function to work with text in a tidy format.</p></li>
<li><p><strong>textstem</strong>:to perform stemming and lemmatization on tokens</p></li>
<li><p><strong>wordcloud2</strong>: to make wordclouds</p></li>
<li><p><strong>vader</strong>: to perform sentiment analysis</p></li>
<li><p><strong>topicmodels</strong>: to do topic modelling</p></li>
</ul>
</div>
<div id="the-dataset" class="section level2" number="0.3">
<h2><span class="header-section-number">0.3</span> The dataset</h2>
<p>The dataset that we will use in this chapter consists of the the abstracts of 1672 open access scientific articles published between 2019 and 2020 in 10 journals from different fields of research.</p>
<table class=" lightable-minimal" style="font-family: &quot;Trebuchet MS&quot;, verdana, sans-serif; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 1: </span>Journals included in the dataset
</caption>
<thead>
<tr>
<th style="text-align:left;">
Journal
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
American Journal of International Law
</td>
</tr>
<tr>
<td style="text-align:left;">
Food Security
</td>
</tr>
<tr>
<td style="text-align:left;">
Journal of Business Economics and Management
</td>
</tr>
<tr>
<td style="text-align:left;">
Journal of Child Psychology and Psychiatry
</td>
</tr>
<tr>
<td style="text-align:left;">
Journal of Mathematics
</td>
</tr>
<tr>
<td style="text-align:left;">
Journal of the Association for Information Science and Technology
</td>
</tr>
<tr>
<td style="text-align:left;">
Nature Astronomy
</td>
</tr>
<tr>
<td style="text-align:left;">
Organic &amp; Biomolecular Chemistry
</td>
</tr>
<tr>
<td style="text-align:left;">
Public Health
</td>
</tr>
<tr>
<td style="text-align:left;">
Solar Energy
</td>
</tr>
</tbody>
</table>
<p>The dataset is available here, or can loaded into R directly from the URL like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="chapter-8---text-mining.html#cb1-1" aria-hidden="true" tabindex="-1"></a>abstracts <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;https://pmongeon.github.io/info6270/files/abstracts.txt&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="chapter-8---text-mining.html#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(journal <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>))</span></code></pre></div>
</div>
<div id="data-formats-for-text-mining" class="section level2" number="0.4">
<h2><span class="header-section-number">0.4</span> Data formats for text-mining</h2>
<p>The two formats that we will consider in this chapter ar the tidy text format and the document-term matrix. Let’s start with a tibble that contain 2 documents with their text.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
Document
</th>
<th style="text-align:left;">
Text
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
I love bananas
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
I hate potatoes
</td>
</tr>
</tbody>
</table>
<div id="tidy-text" class="section level3" number="0.4.1">
<h3><span class="header-section-number">0.4.1</span> Tidy text</h3>
<p>The tidy text format follows the same tidy principles that were introduced earlier in the course. It simply means that each row contains one token. A token is a <strong>meaningful units of text</strong>. Most often the tokens are individual words, but they can be sentences, paragraphs, groups of characters or words of a fixed length <em>n</em> (also known as n-grams), etc.</p>
<p>In principle the tibble above with the text of our two documents is already in a tidy text format where each row is a meaningful unit of text (the token, here would be the entire text). But if we chose words as our tokens, then it would look like this:</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
document
</th>
<th style="text-align:left;">
words
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
i
</td>
</tr>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
love
</td>
</tr>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
bananas
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
i
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
hate
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
potatoes
</td>
</tr>
</tbody>
</table>
</div>
<div id="document-term-matrix" class="section level3" number="0.4.2">
<h3><span class="header-section-number">0.4.2</span> Document-term matrix</h3>
<p>Document-term matrices are matrices that contain all documents in a set as rows and all tokens as columns. The cells typically containing the frequency of the term in the document. Here is a document-term matrix for our two documents</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
bananas
</th>
<th style="text-align:right;">
hate
</th>
<th style="text-align:right;">
i
</th>
<th style="text-align:right;">
love
</th>
<th style="text-align:right;">
potatoes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>The topicmodels package requires data to be formatted in a document-term matrix, but all the other tasks that we will perform in the rest of the chapter are working with the tidy text format.</p>
</div>
</div>
<div id="tokenizing" class="section level2" number="0.5">
<h2><span class="header-section-number">0.5</span> Tokenizing</h2>
<p>Tokenizing is the process of dividing the text of our documents in our chosen unit. The unnest_tokens() function of the tidytext package can be used for task. Three main arguments are required:</p>
<ul>
<li><p><strong>output</strong>: the name of the column that will contain the tokens.</p></li>
<li><p><strong>input</strong>: the name of the column that currently contain the text.</p></li>
<li><p><strong>token</strong>: the desired type of token (possible values are “words,”“sentences,” “ngrams”)</p></li>
<li><p><strong>n</strong>: this specifies the value of n for n-grams.</p></li>
</ul>
<p>Note that you could perform write a code that does the exact same thing as the unnest_tokens() function with the set of functions that you learned in chapter 3 and 4. The unnest_tokens() function simply makes that code much, much more efficient.</p>
<div id="words" class="section level3" number="0.5.1">
<h3><span class="header-section-number">0.5.1</span> Words</h3>
<p>The following code divides the abstract into individual words with <code>token  = "words"</code> .</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="chapter-8---text-mining.html#cb2-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="ot">&lt;-</span> abstracts <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="chapter-8---text-mining.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word,</span>
<span id="cb2-3"><a href="chapter-8---text-mining.html#cb2-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">input =</span> abstract,</span>
<span id="cb2-4"><a href="chapter-8---text-mining.html#cb2-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb2-5"><a href="chapter-8---text-mining.html#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="chapter-8---text-mining.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abstracts_words)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##      id journal word     
##   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;    
## 1     1 A       parenting
## 2     1 A       behaviors
## 3     1 A       have     
## 4     1 A       been     
## 5     1 A       shown    
## 6     1 A       to</code></pre>
</div>
<div id="sentences" class="section level3" number="0.5.2">
<h3><span class="header-section-number">0.5.2</span> Sentences</h3>
<p>You can tokenize by sentence with <code>token = "sentences"</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="chapter-8---text-mining.html#cb4-1" aria-hidden="true" tabindex="-1"></a>abstracts_sentences <span class="ot">&lt;-</span> abstracts <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="chapter-8---text-mining.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> sentence,</span>
<span id="cb4-3"><a href="chapter-8---text-mining.html#cb4-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">input =</span> abstract,</span>
<span id="cb4-4"><a href="chapter-8---text-mining.html#cb4-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;sentences&quot;</span>)</span>
<span id="cb4-5"><a href="chapter-8---text-mining.html#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="chapter-8---text-mining.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abstracts_sentences)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##      id journal sentence                                                        
##   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;                                                           
## 1     1 A       parenting behaviors have been shown to moderate the association~
## 2     1 A       data were obtained from the boricua youth study, a longitudinal~
## 3     1 A       first, we examined the prospective relationship between sensati~
## 4     1 A       second, we examined the moderating role of parenting behaviors-~
## 5     1 A       sensation seeking was a strong predictor of antisocial behavior~
## 6     1 A       high parental monitoring buffered the association between sensa~</code></pre>
</div>
<div id="n-grams" class="section level3" number="0.5.3">
<h3><span class="header-section-number">0.5.3</span> N-grams</h3>
<p>You can tokenize by groups of words of size N with <code>token = "ngrams"</code> and the specifying how many words you want in each groups with <code>n=N.</code></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="chapter-8---text-mining.html#cb6-1" aria-hidden="true" tabindex="-1"></a>abstracts_bigrams <span class="ot">&lt;-</span> abstracts <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="chapter-8---text-mining.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> bigram,</span>
<span id="cb6-3"><a href="chapter-8---text-mining.html#cb6-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">input =</span> abstract,</span>
<span id="cb6-4"><a href="chapter-8---text-mining.html#cb6-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;ngrams&quot;</span>,</span>
<span id="cb6-5"><a href="chapter-8---text-mining.html#cb6-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">n =</span> <span class="dv">2</span>)</span>
<span id="cb6-6"><a href="chapter-8---text-mining.html#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="chapter-8---text-mining.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abstracts_bigrams)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##      id journal bigram             
##   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;              
## 1     1 A       parenting behaviors
## 2     1 A       behaviors have     
## 3     1 A       have been          
## 4     1 A       been shown         
## 5     1 A       shown to           
## 6     1 A       to moderate</code></pre>
<p>For the rest of the chapter, we’ll use the abstracts_words tibble, in which our tokens are individual words.</p>
</div>
</div>
<div id="removing-stop-words" class="section level2" number="0.6">
<h2><span class="header-section-number">0.6</span> Removing stop words</h2>
<p>The English language is full of words that carry little to no meanings, and that tend to be the most frequent terms we use. To illustrate this, let’s look at the ten most frequent terms in the abstracts dataset.</p>
<pre><code>## # A tibble: 10 x 2
##    word      n
##    &lt;chr&gt; &lt;int&gt;
##  1 the    5626
##  2 of     4463
##  3 and    4049
##  4 in     2519
##  5 to     2427
##  6 a      1932
##  7 with   1217
##  8 for    1106
##  9 that   1087
## 10 is      893</code></pre>
<p>We can see that the dataset is dominated by terms that don’t carry much meaning, such as “a,” “of,” “the,” and “and.” These are called stop words and, fortunately, the tidytext package includes a a dataset called <strong>stop_words</strong> that we can use to eliminate these words from our data. Let’s look at a few rows from the stop_words dataset.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="chapter-8---text-mining.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stop_words)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   word      lexicon
##   &lt;chr&gt;     &lt;chr&gt;  
## 1 a         SMART  
## 2 a&#39;s       SMART  
## 3 able      SMART  
## 4 about     SMART  
## 5 above     SMART  
## 6 according SMART</code></pre>
<p>We can use the anti_join() function to remove any row in a tibble that matches another tibble on a specified variable. In this case, we want to remove all the words that are in the stop_words tibble.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="chapter-8---text-mining.html#cb11-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="ot">&lt;-</span> abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="chapter-8---text-mining.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words, <span class="at">by=</span><span class="st">&quot;word&quot;</span>)</span></code></pre></div>
<p>If we take a look at the most frequent terms again, we see that most of those little meaningless words are gone.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="chapter-8---text-mining.html#cb12-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="chapter-8---text-mining.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="chapter-8---text-mining.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 2
##    word         n
##    &lt;chr&gt;    &lt;int&gt;
##  1 food       555
##  2 children   292
##  3 study      267
##  4 symptoms   266
##  5 1          248
##  6 age        230
##  7 adhd       215
##  8 risk       208
##  9 data       207
## 10 2          179</code></pre>
</div>
<div id="stemming-and-lemmatization" class="section level2" number="0.7">
<h2><span class="header-section-number">0.7</span> Stemming and lemmatization</h2>
<p>The next issue that we typically face with text mining is the presence of word variations that are considered distinct tokens. These variation can include plural and singular terms, verb conjugations, etc. Here is an example of a set of tokens from our dataset.</p>
<pre><code>## # A tibble: 8 x 1
##   word        
##   &lt;chr&gt;       
## 1 study       
## 2 studies     
## 3 students    
## 4 student     
## 5 study&#39;s     
## 6 studied     
## 7 understudied
## 8 studying</code></pre>
<p>Stemming (<a href="https://en.wikipedia.org/wiki/Stemming" class="uri">https://en.wikipedia.org/wiki/Stemming</a>) and lemmatization (<a href="https://en.wikipedia.org/wiki/Lemmatisation">&lt;https://en.wikipedia.org/wiki/Lemmatisation&gt;</a>) are two ways of normalizing words by reducing words to their base called stem and lemma, respectively. Here are the stems and the lemmas of the words containing the string “stud.”</p>
<pre><code>## # A tibble: 6 x 3
##   word     stem    lemma  
##   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;  
## 1 study    studi   study  
## 2 studies  studi   study  
## 3 students student student
## 4 student  student student
## 5 study&#39;s  study&#39;  study&#39;s
## 6 studied  studi   study</code></pre>
<p>Understanding how stemming and lemmatization works is beyond the scope of this course, but you should know that:</p>
<ul>
<li><p>both methods work well for eliminating the plural form.</p></li>
<li><p>Stems are not always an actual word but the root of a word (ex. “moder” is the stem of “moderate”), while Lemmas are always actual words.</p></li>
<li><p>Stemming usually produces a lower number of unique words than than lemmatization.</p></li>
</ul>
<p>We can easily add the stem and the lemma of words in our tibble using the <strong>stem_words()</strong> and <strong>lemmatize_words()</strong> functions from the <strong>textstem</strong> package, which also includes <strong>stem_strings()</strong> and <strong>lemmatize_strings()</strong> functions when dealing with tokens that are more than one word.</p>
<p>For this chapter, I will use the lemmatization to normalize my words. I do so by replacing my words with their lemma with the following code.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="chapter-8---text-mining.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textstem)</span>
<span id="cb16-2"><a href="chapter-8---text-mining.html#cb16-2" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="ot">&lt;-</span> abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="chapter-8---text-mining.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">lemmatize_words</span>(word))</span>
<span id="cb16-4"><a href="chapter-8---text-mining.html#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="chapter-8---text-mining.html#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abstracts_words, <span class="at">n=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##       id journal word       
##    &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      
##  1     1 A       parenting  
##  2     1 A       behavior   
##  3     1 A       show       
##  4     1 A       moderate   
##  5     1 A       association
##  6     1 A       sensation  
##  7     1 A       seek       
##  8     1 A       antisocial 
##  9     1 A       behavior   
## 10     1 A       datum</code></pre>
</div>
<div id="term-frequency" class="section level2" number="0.8">
<h2><span class="header-section-number">0.8</span> Term frequency</h2>
<p>A first exploration of our data is to calculate the frequency of each terms for the whole set of documents, for each journals, and for each individual document.</p>
<div id="overall-term-frequency" class="section level3" number="0.8.1">
<h3><span class="header-section-number">0.8.1</span> Overall term frequency</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="chapter-8---text-mining.html#cb18-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="chapter-8---text-mining.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="chapter-8---text-mining.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">20</span>) <span class="co"># same has head(n=20)</span></span></code></pre></div>
<pre><code>## # A tibble: 20 x 2
##    word          n
##    &lt;chr&gt;     &lt;int&gt;
##  1 food        584
##  2 child       441
##  3 study       375
##  4 age         316
##  5 model       303
##  6 report      295
##  7 star        293
##  8 symptom     293
##  9 system      293
## 10 1           248
## 11 low         239
## 12 risk        228
## 13 adhd        215
## 14 increase    208
## 15 datum       207
## 16 household   201
## 17 mass        201
## 18 effect      199
## 19 measure     198
## 20 result      194</code></pre>
</div>
<div id="term-frequency-by-journal" class="section level3" number="0.8.2">
<h3><span class="header-section-number">0.8.2</span> Term frequency by journal</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="chapter-8---text-mining.html#cb20-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="chapter-8---text-mining.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(journal) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="chapter-8---text-mining.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="chapter-8---text-mining.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="chapter-8---text-mining.html#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb20-6"><a href="chapter-8---text-mining.html#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>n, <span class="at">y=</span><span class="fu">reorder</span>(word,n)) <span class="sc">+</span></span>
<span id="cb20-7"><a href="chapter-8---text-mining.html#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-8"><a href="chapter-8---text-mining.html#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facet =</span> <span class="sc">~</span>journal, </span>
<span id="cb20-9"><a href="chapter-8---text-mining.html#cb20-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol=</span><span class="dv">2</span>, </span>
<span id="cb20-10"><a href="chapter-8---text-mining.html#cb20-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">scale=</span><span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-11"><a href="chapter-8---text-mining.html#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-12"><a href="chapter-8---text-mining.html#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Word&quot;</span>, <span class="at">x=</span><span class="st">&quot;Frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-13"><a href="chapter-8---text-mining.html#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reordered</span>()</span></code></pre></div>
<p><img src="INFO6270_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="term-frequency-by-document" class="section level3" number="0.8.3">
<h3><span class="header-section-number">0.8.3</span> Term frequency by document</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="chapter-8---text-mining.html#cb21-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="chapter-8---text-mining.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">&lt;=</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="co"># I select papers with ID 1 to  4</span></span>
<span id="cb21-3"><a href="chapter-8---text-mining.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> <span class="co"># I chose the papers as my unit of analysis</span></span>
<span id="cb21-4"><a href="chapter-8---text-mining.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, </span>
<span id="cb21-5"><a href="chapter-8---text-mining.html#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-6"><a href="chapter-8---text-mining.html#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>) <span class="sc">%&gt;%</span>  <span class="co"># get the 8 most frequent terms for each document</span></span>
<span id="cb21-7"><a href="chapter-8---text-mining.html#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb21-8"><a href="chapter-8---text-mining.html#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> n, </span>
<span id="cb21-9"><a href="chapter-8---text-mining.html#cb21-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">+</span></span>
<span id="cb21-10"><a href="chapter-8---text-mining.html#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb21-11"><a href="chapter-8---text-mining.html#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facet =</span> <span class="sc">~</span>id, <span class="co"># here I use the papers_id for the facet</span></span>
<span id="cb21-12"><a href="chapter-8---text-mining.html#cb21-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol=</span><span class="dv">2</span>, </span>
<span id="cb21-13"><a href="chapter-8---text-mining.html#cb21-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">scale=</span><span class="st">&quot;free&quot;</span>) <span class="sc">+</span> </span>
<span id="cb21-14"><a href="chapter-8---text-mining.html#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-15"><a href="chapter-8---text-mining.html#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Word&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Freqency&quot;</span>)</span></code></pre></div>
<p><img src="INFO6270_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="word-clouds" class="section level3" number="0.8.4">
<h3><span class="header-section-number">0.8.4</span> Word clouds</h3>
<p>While word clouds are not more informative than term frequency tables, they are a space-efficient means to show a larger number of words and their relative frequency in a set. the <strong>wordcloud</strong> and <strong>wordcloud2</strong> packages can be used to generate word clouds. Let’s look at the word cloud for the 100 most frequent terms for each journal.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="chapter-8---text-mining.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2)</span>
<span id="cb22-2"><a href="chapter-8---text-mining.html#cb22-2" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="chapter-8---text-mining.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(journal <span class="sc">==</span> <span class="st">&quot;A&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="chapter-8---text-mining.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="co"># adds a column n with the frequency of the word.</span></span>
<span id="cb22-5"><a href="chapter-8---text-mining.html#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-6"><a href="chapter-8---text-mining.html#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">wordcloud2</span>(<span class="at">size =</span> <span class="fl">0.3</span>, <span class="co"># Size of the text (default is 1)</span></span>
<span id="cb22-7"><a href="chapter-8---text-mining.html#cb22-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">minRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Min roation is 90 degrees</span></span>
<span id="cb22-8"><a href="chapter-8---text-mining.html#cb22-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">maxRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Max rotation is 90 degrees</span></span>
<span id="cb22-9"><a href="chapter-8---text-mining.html#cb22-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">rotateRatio =</span> <span class="dv">0</span>, <span class="co"># percentage of words to rotate (none, in this case)</span></span>
<span id="cb22-10"><a href="chapter-8---text-mining.html#cb22-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="st">&quot;circle&quot;</span>,</span>
<span id="cb22-11"><a href="chapter-8---text-mining.html#cb22-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-2434487450d07bd5ad85" style="width:672px;height:480px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-2434487450d07bd5ad85">{"x":{"word":["child","symptom","age","study","adhd","risk","disorder","association","adolescent","report","childhood","anxiety","model","sleep","parent","factor","effect","asd","behavior","depression","outcome","measure","control","examine","social","individual","month","increase","genetic","assess","intervention","analysis","datum","level","health","95","family","predict","include","low","relate","compare","development","score","time","treatment","ci","adolescence","maternal","sample","emotional","test","base","experience","longitudinal","significant","trait","psychopathology","relationship","participant","rate","finding","suggest","influence","youth","process","school","cognitive","developmental","infant","mental","assessment","life","twin","baseline","behaviour","evidence","mother","suicidal","12","cohort","difference","term","10","5","adult","result","depressive","exposure","stress","clinical","performance","identify","ptsd","deficit","environmental","externalize","18","11","adulthood"],"freq":[413,290,277,230,215,205,193,177,176,174,171,156,156,149,147,136,128,126,122,120,117,112,111,108,106,103,103,102,99,98,97,93,93,93,86,85,85,84,81,81,81,80,80,78,78,77,76,74,72,71,70,70,69,67,67,65,65,62,62,61,60,59,59,58,58,57,57,56,56,55,55,54,54,54,53,53,53,53,53,52,52,52,52,51,51,51,51,50,50,50,49,49,48,48,47,47,47,46,45,45],"fontFamily":"Segoe UI","fontWeight":"bold","color":"black","minSize":0,"weightFactor":0.130750605326877,"backgroundColor":"white","gridSize":0,"minRotation":-1.5707963267949,"maxRotation":-1.5707963267949,"shuffle":true,"rotateRatio":0,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="chapter-8---text-mining.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2)</span>
<span id="cb23-2"><a href="chapter-8---text-mining.html#cb23-2" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="chapter-8---text-mining.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(journal <span class="sc">==</span> <span class="st">&quot;B&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="chapter-8---text-mining.html#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="co"># adds a column n with the frequency of the word.</span></span>
<span id="cb23-5"><a href="chapter-8---text-mining.html#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-6"><a href="chapter-8---text-mining.html#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">wordcloud2</span>(<span class="at">size =</span> <span class="fl">0.3</span>, <span class="co"># Size of the text (default is 1)</span></span>
<span id="cb23-7"><a href="chapter-8---text-mining.html#cb23-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">minRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Min roation is 90 degrees</span></span>
<span id="cb23-8"><a href="chapter-8---text-mining.html#cb23-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">maxRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Max rotation is 90 degrees</span></span>
<span id="cb23-9"><a href="chapter-8---text-mining.html#cb23-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">rotateRatio =</span> <span class="dv">0</span>, <span class="co"># percentage of words to rotate (none, in this case)</span></span>
<span id="cb23-10"><a href="chapter-8---text-mining.html#cb23-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="st">&quot;circle&quot;</span>,</span>
<span id="cb23-11"><a href="chapter-8---text-mining.html#cb23-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-dbfcd658c680beeedb2e" style="width:672px;height:480px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-dbfcd658c680beeedb2e">{"x":{"word":["court","international","unite","right","law","2019","agreement","judgment","treaty","claim","article","decision","human","foreign","supreme","find","government","hold","immunity","u.s","organization","issue","trump","act","body","dispute","rule","administration","climate","force","compensation","concern","continue","investment","legal","military","president","challenge","country","crime","litigation","raise","tax","time","war","appeal","appellate","argue","convention","domestic","eu","include","investor","judge","jurisdiction","justice","national","pakistan","protection","regime","require","role","significant","sovereign","2018","al","april","conclude","de","detention","effort","establish","exception","global","icc","india","nation","pardon","policy","process","provide","question","relate","remain","russia","trade","tribunal","view","violation","action","arrest","asylum","belgian","border","command","commission","constitutional","design","dissent","economic"],"freq":[58,47,35,29,26,24,23,22,20,19,17,17,17,16,16,15,15,15,15,15,13,12,12,11,11,11,11,10,10,10,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5],"fontFamily":"Segoe UI","fontWeight":"bold","color":"black","minSize":0,"weightFactor":0.931034482758621,"backgroundColor":"white","gridSize":0,"minRotation":-1.5707963267949,"maxRotation":-1.5707963267949,"shuffle":true,"rotateRatio":0,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="chapter-8---text-mining.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2)</span>
<span id="cb24-2"><a href="chapter-8---text-mining.html#cb24-2" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="chapter-8---text-mining.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(journal <span class="sc">==</span> <span class="st">&quot;C&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href="chapter-8---text-mining.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="co"># adds a column n with the frequency of the word.</span></span>
<span id="cb24-5"><a href="chapter-8---text-mining.html#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="chapter-8---text-mining.html#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">wordcloud2</span>(<span class="at">size =</span> <span class="fl">0.3</span>, <span class="co"># Size of the text (default is 1)</span></span>
<span id="cb24-7"><a href="chapter-8---text-mining.html#cb24-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">minRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Min roation is 90 degrees</span></span>
<span id="cb24-8"><a href="chapter-8---text-mining.html#cb24-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">maxRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Max rotation is 90 degrees</span></span>
<span id="cb24-9"><a href="chapter-8---text-mining.html#cb24-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">rotateRatio =</span> <span class="dv">0</span>, <span class="co"># percentage of words to rotate (none, in this case)</span></span>
<span id="cb24-10"><a href="chapter-8---text-mining.html#cb24-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="st">&quot;circle&quot;</span>,</span>
<span id="cb24-11"><a href="chapter-8---text-mining.html#cb24-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-b45afdd8110043eabfcf" style="width:672px;height:480px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b45afdd8110043eabfcf">{"x":{"word":["star","mass","1","galaxy","planet","system","observation","disk","emission","formation","similar","2","solar","low","gas","form","3","stellar","ray","10","model","observe","report","cluster","5","suggest","4","result","energy","atmosphere","surface","field","dwarf","measurement","time","study","evolution","magnetic","binary","process","space","provide","scale","galactic","massive","evidence","structure","6","detect","radio","size","km","region","temperature","detection","giant","7","dust","radius","reveal","black","cloud","hole","density","earth","line","spectrum","telescope","accretion","source","measure","milky","simulation","ice","planetary","range","rate","datum","distribution","infrared","orbit","cosmic","feature","flare","interstellar","object","spectral","understand","origin","phase","core","gamma","period","property","type","wind","asteroid","composition","find","large"],"freq":[293,197,192,173,153,150,144,143,128,122,122,120,119,115,114,113,111,109,107,105,101,96,93,92,88,83,82,81,76,74,74,71,70,69,69,68,64,64,61,59,59,58,56,55,55,53,53,52,52,52,52,51,51,51,50,50,49,48,48,48,47,47,47,46,46,46,46,46,45,45,44,44,44,43,42,42,42,41,41,40,40,39,39,39,39,39,39,39,38,38,37,37,37,37,37,37,36,36,36,36],"fontFamily":"Segoe UI","fontWeight":"bold","color":"black","minSize":0,"weightFactor":0.184300341296928,"backgroundColor":"white","gridSize":0,"minRotation":-1.5707963267949,"maxRotation":-1.5707963267949,"shuffle":true,"rotateRatio":0,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="chapter-8---text-mining.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2)</span>
<span id="cb25-2"><a href="chapter-8---text-mining.html#cb25-2" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="chapter-8---text-mining.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(journal <span class="sc">==</span> <span class="st">&quot;D&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="chapter-8---text-mining.html#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="co"># adds a column n with the frequency of the word.</span></span>
<span id="cb25-5"><a href="chapter-8---text-mining.html#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-6"><a href="chapter-8---text-mining.html#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">wordcloud2</span>(<span class="at">size =</span> <span class="fl">0.5</span>, <span class="co"># Size of the text (default is 1)</span></span>
<span id="cb25-7"><a href="chapter-8---text-mining.html#cb25-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">minRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Min roation is 90 degrees</span></span>
<span id="cb25-8"><a href="chapter-8---text-mining.html#cb25-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">maxRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">2</span>, <span class="co"># Max rotation is 90 degrees</span></span>
<span id="cb25-9"><a href="chapter-8---text-mining.html#cb25-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">rotateRatio =</span> <span class="dv">0</span>, <span class="co"># percentage of words to rotate (none, in this case)</span></span>
<span id="cb25-10"><a href="chapter-8---text-mining.html#cb25-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="st">&quot;circle&quot;</span>,</span>
<span id="cb25-11"><a href="chapter-8---text-mining.html#cb25-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-29bbb092a747ee721b6b" style="width:672px;height:480px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-29bbb092a747ee721b6b">{"x":{"word":["food","household","system","security","farm","study","increase","level","income","datum","insecurity","impact","yield","policy","crop","nutrition","farmer","market","improve","production","result","country","consumption","agricultural","effect","diversity","maize","access","change","19","model","covid","base","rural","diet","low","price","include","analysis","dietary","measure","reduce","approach","economic","livelihood","develop","development","availability","estimate","health","pandemic","paper","global","intervention","significant","social","strategy","factor","loss","scale","chain","focus","international","response","survey","time","crisis","gap","poor","research","child","climate","local","nutrient","identify","nutritional","suggest","1","africa","outcome","population","provide","trade","urban","context","disease","find","fish","government","potential","report","resource","smallholder","understand","wheat","world","management","program","significantly","supply"],"freq":[584,199,127,126,76,76,72,71,70,69,69,68,68,67,66,63,62,61,60,60,59,58,57,54,50,49,49,48,47,46,46,45,44,44,42,42,40,39,38,38,38,38,37,37,37,34,34,33,33,33,33,33,32,32,32,31,31,30,30,30,29,29,29,29,29,29,28,28,28,28,27,27,27,27,26,26,26,25,25,25,25,25,25,25,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,23],"fontFamily":"Segoe UI","fontWeight":"bold","color":"black","minSize":0,"weightFactor":0.154109589041096,"backgroundColor":"white","gridSize":0,"minRotation":-1.5707963267949,"maxRotation":-1.5707963267949,"shuffle":true,"rotateRatio":0,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
<p>As you can see, the word clouds give us a pretty good idea of what fields the journal included in the dataset may be from.</p>
</div>
<div id="tf-idf" class="section level3" number="0.8.5">
<h3><span class="header-section-number">0.8.5</span> TF-IDF</h3>
<p>TF-IDF stands for term frequency * inverse document frequency. Essentially, it measures how important (frequent) a term is in a document, and how rare that term is in the corpus. The result is a value between 0 and 1. The highest the tf-idf value, the more the term is specific to a document and therefore indicative of its specific topic.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="chapter-8---text-mining.html#cb26-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="ot">&lt;-</span> abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="chapter-8---text-mining.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="chapter-8---text-mining.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-4"><a href="chapter-8---text-mining.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_tf_idf</span>(<span class="at">term =</span> word, </span>
<span id="cb26-5"><a href="chapter-8---text-mining.html#cb26-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">document =</span> id, </span>
<span id="cb26-6"><a href="chapter-8---text-mining.html#cb26-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">n =</span> n)</span></code></pre></div>
<p>Let’s look at the most important words in a set of 9 nine articles. These are the words with the highest tf-idf values for the</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="chapter-8---text-mining.html#cb27-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="chapter-8---text-mining.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">&lt;=</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="chapter-8---text-mining.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="chapter-8---text-mining.html#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">8</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb27-5"><a href="chapter-8---text-mining.html#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb27-6"><a href="chapter-8---text-mining.html#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>tf_idf, <span class="at">y=</span><span class="fu">reorder</span>(word, tf_idf)) <span class="sc">+</span></span>
<span id="cb27-7"><a href="chapter-8---text-mining.html#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb27-8"><a href="chapter-8---text-mining.html#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>id, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-9"><a href="chapter-8---text-mining.html#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Word&quot;</span>)</span></code></pre></div>
<p><img src="INFO6270_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="chapter-8---text-mining.html#cb28-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="chapter-8---text-mining.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">&lt;=</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="chapter-8---text-mining.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="chapter-8---text-mining.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="chapter-8---text-mining.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb28-6"><a href="chapter-8---text-mining.html#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>n, <span class="at">y=</span><span class="fu">reorder</span>(word, n)) <span class="sc">+</span></span>
<span id="cb28-7"><a href="chapter-8---text-mining.html#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb28-8"><a href="chapter-8---text-mining.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>id, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-9"><a href="chapter-8---text-mining.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Word&quot;</span>)</span></code></pre></div>
<p><img src="INFO6270_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
</div>
<div id="sentiment-analysis" class="section level2" number="0.9">
<h2><span class="header-section-number">0.9</span> Sentiment analysis</h2>
<p>As the name suggest, sentiment analysis is a technique use to identify sentiment in text. The most basic sentiment analysis methods use list of terms with an associated sentiment (positive or negative) or a numerical value representing the strength or the sentiment: -2 (very negative) to +2 (very positive), for instance. The tidytext package includes a few of those terms list with associated sentiments, which you can access with the get_sentiments() funciton. The following example import the bing list and the afinn list into two tibbles.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="chapter-8---text-mining.html#cb29-1" aria-hidden="true" tabindex="-1"></a>sentiment_bing <span class="ot">&lt;-</span> <span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>)</span>
<span id="cb29-2"><a href="chapter-8---text-mining.html#cb29-2" aria-hidden="true" tabindex="-1"></a>sentiment_afinn <span class="ot">&lt;-</span> <span class="fu">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>)</span></code></pre></div>
<p>Let’s take a look.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="chapter-8---text-mining.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sentiment_bing)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   word       sentiment
##   &lt;chr&gt;      &lt;chr&gt;    
## 1 2-faces    negative 
## 2 abnormal   negative 
## 3 abolish    negative 
## 4 abominable negative 
## 5 abominably negative 
## 6 abominate  negative</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="chapter-8---text-mining.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sentiment_afinn)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   word       value
##   &lt;chr&gt;      &lt;dbl&gt;
## 1 abandon       -2
## 2 abandoned     -2
## 3 abandons      -2
## 4 abducted      -2
## 5 abduction     -2
## 6 abductions    -2</code></pre>
<p>When can then assign a sentiment to the words in our abstracts with the left_join() function that we introduced in chapter 3. Let’s use the afinn list for this example.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="chapter-8---text-mining.html#cb34-1" aria-hidden="true" tabindex="-1"></a>abstracts_words <span class="ot">&lt;-</span> abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="chapter-8---text-mining.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sentiment_afinn, <span class="at">by=</span><span class="st">&quot;word&quot;</span>)</span>
<span id="cb34-3"><a href="chapter-8---text-mining.html#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="chapter-8---text-mining.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abstracts_words)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 7
## # Groups:   id [6]
##      id word        n     tf   idf tf_idf value
##   &lt;dbl&gt; &lt;chr&gt;   &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1    10 ccbt       20 0.0847  6.23  0.528    NA
## 2  1276 yield      19 0.121   2.93  0.355    NA
## 3  1598 food       19 0.104   1.71  0.178    NA
## 4   244 sct        18 0.101   6.23  0.630    NA
## 5   256 anxiety    18 0.121   2.79  0.338    -2
## 6    20 sleep      17 0.0950  3.59  0.341    NA</code></pre>
<p>Now let’s just sum the score for each abstract to have a single sentiment score for each article, and order abstracts from the highest sentiment score to the lowest.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="chapter-8---text-mining.html#cb36-1" aria-hidden="true" tabindex="-1"></a>abstracts_sentiment <span class="ot">&lt;-</span> abstracts_words <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="chapter-8---text-mining.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="chapter-8---text-mining.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sentiment =</span> <span class="fu">sum</span>(value, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href="chapter-8---text-mining.html#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(sentiment))</span></code></pre></div>
<p>And then let’s look at the most positive abstracts and the most negative abstracts with head() and tail().</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="chapter-8---text-mining.html#cb37-1" aria-hidden="true" tabindex="-1"></a>abstracts_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="chapter-8---text-mining.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(abstracts, <span class="at">by=</span><span class="st">&quot;id&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="chapter-8---text-mining.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, journal, abstract, sentiment) <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a href="chapter-8---text-mining.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##      id journal abstract                                               sentiment
##   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;                                                      &lt;dbl&gt;
## 1  1137 D       Rwanda has experienced significant economic growth fo~        16
## 2  1284 D       Assessing progress towards healthier people, farms an~        15
## 3  1138 D       This paper concerns Drought-Tolerant Maize (DTM) and ~        13
## 4   214 A       Care for children and adolescents with psychosocial p~        12
## 5  1451 D       Using survey dataset collected from nearly 9000 farme~        12
## 6    73 A       BackgroundChildren in the UK go through rigorous teac~        11</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="chapter-8---text-mining.html#cb39-1" aria-hidden="true" tabindex="-1"></a>abstracts_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="chapter-8---text-mining.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(abstracts, <span class="at">by=</span><span class="st">&quot;id&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="chapter-8---text-mining.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, journal, abstract,sentiment) <span class="sc">%&gt;%</span> </span>
<span id="cb39-4"><a href="chapter-8---text-mining.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##      id journal abstract                                               sentiment
##   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;                                                      &lt;dbl&gt;
## 1   174 A       &quot;Suicide is the second leading cause of death in youn~       -14
## 2  1598 D       &quot;This opinion article results from a collective analy~       -14
## 3   248 A       &quot;Only one-third of young people who experience suicid~       -15
## 4  1532 D       &quot;Children who experience poor nutrition during the fi~       -16
## 5    50 A       &quot;Children with developmental disabilities are at heig~       -21
## 6   320 A       &quot;Post-traumatic stress disorder (PTSD) is a common re~       -22</code></pre>
<p>Let’s compare the average sentiment for the two journals in the dataset</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="chapter-8---text-mining.html#cb41-1" aria-hidden="true" tabindex="-1"></a>abstracts_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="chapter-8---text-mining.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(abstracts, <span class="at">by=</span><span class="st">&quot;id&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb41-3"><a href="chapter-8---text-mining.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, journal, abstract, sentiment) <span class="sc">%&gt;%</span> </span>
<span id="cb41-4"><a href="chapter-8---text-mining.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(journal) <span class="sc">%&gt;%</span> </span>
<span id="cb41-5"><a href="chapter-8---text-mining.html#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_sentiment =</span> <span class="fu">mean</span>(sentiment))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   journal mean_sentiment
##   &lt;chr&gt;            &lt;dbl&gt;
## 1 A                -2.27
## 2 B                -1.40
## 3 C                 2.01
## 4 D                 1.53</code></pre>
<div id="the-vader-package" class="section level4" number="0.9.0.1">
<h4><span class="header-section-number">0.9.0.1</span> The vader package</h4>
<p>Valence Aware Dictionary and sEntiment Reasoner (VADER) is a popular sentiment analysis tool, that takes the context of words into account so that good (a positive term) can be interpreted as negative when it is preceded by the word not (as in “not good”).</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="chapter-8---text-mining.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vader)</span>
<span id="cb43-2"><a href="chapter-8---text-mining.html#cb43-2" aria-hidden="true" tabindex="-1"></a>abstracts_vader <span class="ot">&lt;-</span> abstracts <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="chapter-8---text-mining.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="fu">vader_df</span>(abstracts<span class="sc">$</span>abstract))</span></code></pre></div>
</div>
</div>
<div id="topic-modelling" class="section level2" number="0.10">
<h2><span class="header-section-number">0.10</span> Topic modelling</h2>
<p>In this section we will use a very common topic modelling technique called <strong>L</strong>atent <strong>D</strong>irichlet <strong>A</strong>llocation (LDA). It is a dimensionality reduction technique that takes Understanding how exactly LDA works is beyond the scope of this course</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="chapter-8---text-mining.html#cb44-1" aria-hidden="true" tabindex="-1"></a>abstracts_dtm <span class="ot">&lt;-</span> abstracts_words <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="chapter-8---text-mining.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cast_dtm</span>(id, word, n)</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="chapter-8---text-mining.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(topicmodels)</span>
<span id="cb45-2"><a href="chapter-8---text-mining.html#cb45-2" aria-hidden="true" tabindex="-1"></a>abstracts_lda <span class="ot">&lt;-</span> <span class="fu">LDA</span>(abstracts_dtm, <span class="at">k =</span> <span class="dv">4</span>, <span class="at">control =</span> <span class="fu">list</span>(<span class="at">seed =</span> <span class="dv">1234</span>))</span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="chapter-8---text-mining.html#cb46-1" aria-hidden="true" tabindex="-1"></a>abstracts_word_topic <span class="ot">&lt;-</span> <span class="fu">tidy</span>(abstracts_lda, <span class="at">matrix =</span> <span class="st">&quot;beta&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="chapter-8---text-mining.html#cb47-1" aria-hidden="true" tabindex="-1"></a>abstracts_word_topic <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="chapter-8---text-mining.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="chapter-8---text-mining.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(beta, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="chapter-8---text-mining.html#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">term =</span> <span class="fu">reorder_within</span>(term, beta, topic)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href="chapter-8---text-mining.html#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-6"><a href="chapter-8---text-mining.html#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>beta, <span class="at">y=</span>term) <span class="sc">+</span></span>
<span id="cb47-7"><a href="chapter-8---text-mining.html#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb47-8"><a href="chapter-8---text-mining.html#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>topic, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-9"><a href="chapter-8---text-mining.html#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reordered</span>()</span></code></pre></div>
<p><img src="INFO6270_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="chapter-8---text-mining.html#cb48-1" aria-hidden="true" tabindex="-1"></a>abstracts_topic <span class="ot">&lt;-</span> <span class="fu">tidy</span>(abstracts_lda, <span class="at">matrix =</span> <span class="st">&quot;gamma&quot;</span>)</span>
<span id="cb48-2"><a href="chapter-8---text-mining.html#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="chapter-8---text-mining.html#cb48-3" aria-hidden="true" tabindex="-1"></a>abstracts_topic <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="chapter-8---text-mining.html#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(document, topic, <span class="fu">desc</span>(gamma))  </span></code></pre></div>
<pre><code>## # A tibble: 2,028 x 3
##    document topic     gamma
##    &lt;chr&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 1            1 0.999    
##  2 1            2 0.000180 
##  3 1            3 0.000180 
##  4 1            4 0.000180 
##  5 10           1 0.0000967
##  6 10           2 0.0000967
##  7 10           3 0.0000967
##  8 10           4 1.00     
##  9 100          1 0.000447 
## 10 100          2 0.999    
## # ... with 2,018 more rows</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="chapter-8---text-mining.html#cb50-1" aria-hidden="true" tabindex="-1"></a>abstracts_topic <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="chapter-8---text-mining.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.numeric</span>(document) <span class="sc">&lt;=</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="chapter-8---text-mining.html#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(document) <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href="chapter-8---text-mining.html#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(document, topic) <span class="sc">%&gt;%</span> </span>
<span id="cb50-5"><a href="chapter-8---text-mining.html#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb50-6"><a href="chapter-8---text-mining.html#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>gamma, <span class="at">y=</span><span class="fu">reorder</span>(topic, gamma)) <span class="sc">+</span></span>
<span id="cb50-7"><a href="chapter-8---text-mining.html#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb50-8"><a href="chapter-8---text-mining.html#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>document, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb50-9"><a href="chapter-8---text-mining.html#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Topic&quot;</span>)</span></code></pre></div>
<p><img src="INFO6270_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
</div>
<div id="other-resources" class="section level2" number="0.11">
<h2><span class="header-section-number">0.11</span> Other resources</h2>
<ul>
<li><p><strong>Project gutenberg</strong> (<a href="https://www.gutenberg.org/" class="uri">https://www.gutenberg.org/</a>) provides access to a large collection of free eBooks that can be downloaded in a plain text (.txt) format that is convenient for text-mining. the <strong>gutenbergr</strong> package allows you to search the project gutenberg collection and import books directly in R.</p></li>
<li><p>The <em>Text mining with R</em> (<a href="https://www.tidytextmining.com/index.html">&lt;https://www.tidytextmining.com/index.html&gt;</a>) by Julia Silge and David Robinson is a great resource for beginners with lots of R examples. The book includes several examples that use the gutenbergr package.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter-7---visualizing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter-9---k-nearest-neighbors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
