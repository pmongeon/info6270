<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 - Working with strings | INFO 6270 - Introduction to Data Science</title>
  <meta name="description" content="Chapter 4 - Working with strings | INFO 6270 - Introduction to Data Science" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 - Working with strings | INFO 6270 - Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="pmongeon/info6270" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 - Working with strings | INFO 6270 - Introduction to Data Science" />
  
  
  

<meta name="author" content="Philippe Mongeon" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter-3---reading-and-tidying-data.html"/>
<link rel="next" href="chapter-5---describing-and-visualizing-data.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><center>INFO6270 - Introduction to Data Science</center></li>
<li><center>Winter 2022</center></li>
<li><center>Philippe Mongeon</center></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course overview</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#assignments"><i class="fa fa-check"></i>Assignments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bibliography"><i class="fa fa-check"></i>Bibliography</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#official-syllabus"><i class="fa fa-check"></i>Official syllabus</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html"><i class="fa fa-check"></i>Chapter 1 - What is data science?</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#what-is-data-science"><i class="fa fa-check"></i>What is data science?</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#the-data-science-process"><i class="fa fa-check"></i>The data science process</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#writing-a-problem-statement"><i class="fa fa-check"></i>Writing a problem statement</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#getting-data"><i class="fa fa-check"></i>Getting data</a></li>
<li class="chapter" data-level="" data-path="chapter-1---what-is-data-science.html"><a href="chapter-1---what-is-data-science.html#homework"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html"><i class="fa fa-check"></i>Chapter 2 - Getting started with R</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#learning-objectives-1"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#setting-up-r"><i class="fa fa-check"></i>Setting up R</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#installing-r-and-rstudio"><i class="fa fa-check"></i>Installing R and Rstudio</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#explore-rstudio"><i class="fa fa-check"></i>Explore RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#first-steps-in-r"><i class="fa fa-check"></i>First steps in R</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#r-scripts"><i class="fa fa-check"></i>R scripts</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#working-directory"><i class="fa fa-check"></i>Working directory</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#executing-code"><i class="fa fa-check"></i>Executing code</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#numbers-and-strings"><i class="fa fa-check"></i>numbers and strings</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#doing-the-math"><i class="fa fa-check"></i>Doing the math</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#objects"><i class="fa fa-check"></i>Objects</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#subsetting-data"><i class="fa fa-check"></i>Subsetting data</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#logical-operators"><i class="fa fa-check"></i>Logical operators</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#conditional-statements"><i class="fa fa-check"></i>Conditional statements</a></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#loops-and-vectorization"><i class="fa fa-check"></i>Loops and vectorization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-2---getting-started-with-r.html"><a href="chapter-2---getting-started-with-r.html#homework-1"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html"><i class="fa fa-check"></i>Chapter 3 - Reading and tidying data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#learning-objectives-2"><i class="fa fa-check"></i>Learning objectives</a>
<ul>
<li><a href="chapter-3---reading-and-tidying-data.html#slides"><strong>Slides</strong></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#tidy-data"><i class="fa fa-check"></i>Tidy data</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#the-tidyverse"><i class="fa fa-check"></i>The tidyverse</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#import-data"><i class="fa fa-check"></i>Import data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#delimited-file-formats"><i class="fa fa-check"></i>Delimited file formats</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#json-files"><i class="fa fa-check"></i>JSON files</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#application-programming-interface-api"><i class="fa fa-check"></i>Application programming interface (API)</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#xml-files"><i class="fa fa-check"></i>XML files</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#connections"><i class="fa fa-check"></i>Connections</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#tidy-your-data"><i class="fa fa-check"></i>Tidy your data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#reshape-data"><i class="fa fa-check"></i>Reshape data</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#expand-tables"><i class="fa fa-check"></i>Expand tables</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#handle-missing-values"><i class="fa fa-check"></i>Handle missing values</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#merge-and-split-cells"><i class="fa fa-check"></i>Merge and split cells</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#nested-data"><i class="fa fa-check"></i>Nested data</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#combine-dataframes"><i class="fa fa-check"></i>Combine dataframes</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#join-dataframes"><i class="fa fa-check"></i>Join dataframes</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#rename-variables"><i class="fa fa-check"></i>Rename variables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#export-data"><i class="fa fa-check"></i>Export data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#export-dataframes"><i class="fa fa-check"></i>Export dataframes</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#json"><i class="fa fa-check"></i>JSON</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#the-pipe"><i class="fa fa-check"></i>The Pipe</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#additional-resources"><i class="fa fa-check"></i>Additional resources</a></li>
<li class="chapter" data-level="" data-path="chapter-3---reading-and-tidying-data.html"><a href="chapter-3---reading-and-tidying-data.html#homework-2"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html"><i class="fa fa-check"></i>Chapter 4 - Working with strings</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#learning-objectives-3"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#dealing-with-messy-or-unstructured-data"><i class="fa fa-check"></i>Dealing with messy or unstructured data</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#cleaning-messy-data"><i class="fa fa-check"></i>Cleaning messy data</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#filtering-rows-based-on-string-matches"><i class="fa fa-check"></i>Filtering rows based on string matches</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#extracting-data-from-text"><i class="fa fa-check"></i>Extracting data from text</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#the-stringr-package"><i class="fa fa-check"></i>The stringr package</a>
<ul>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#transforming-strings"><i class="fa fa-check"></i>Transforming strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#clean-up-a-string"><i class="fa fa-check"></i>Clean up a string</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#combine-strings"><i class="fa fa-check"></i>Combine strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#splitting-strings"><i class="fa fa-check"></i>Splitting strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#subsetting-strings"><i class="fa fa-check"></i>Subsetting strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#testing-strings"><i class="fa fa-check"></i>Testing strings</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#regular-expressions-regex"><i class="fa fa-check"></i>Regular expressions (regex)</a></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#dealing-with-special-characters"><i class="fa fa-check"></i>Dealing with special characters</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-4---working-with-strings.html"><a href="chapter-4---working-with-strings.html#homework-3"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-5---describing-and-visualizing-data.html"><a href="chapter-5---describing-and-visualizing-data.html"><i class="fa fa-check"></i>Chapter 5 - Describing and visualizing data</a></li>
<li class="chapter" data-level="" data-path="chapter-6---network-analysis.html"><a href="chapter-6---network-analysis.html"><i class="fa fa-check"></i>Chapter 6 - Network analysis</a></li>
<li class="chapter" data-level="" data-path="chapter-7---topic-modelling.html"><a href="chapter-7---topic-modelling.html"><i class="fa fa-check"></i>Chapter 7 - Topic modelling</a></li>
<li class="chapter" data-level="" data-path="chapter-8---k-nearest-neighbors.html"><a href="chapter-8---k-nearest-neighbors.html"><i class="fa fa-check"></i>Chapter 8 - K nearest neighbors</a></li>
<li class="chapter" data-level="" data-path="chapter-9---logistic-regression.html"><a href="chapter-9---logistic-regression.html"><i class="fa fa-check"></i>Chapter 9 - Logistic regression</a></li>
<li class="chapter" data-level="" data-path="chapter-10---linear-regression.html"><a href="chapter-10---linear-regression.html"><i class="fa fa-check"></i>Chapter 10 - Linear regression</a></li>
<li class="chapter" data-level="" data-path="chapter-11---principal-component-analysis.html"><a href="chapter-11---principal-component-analysis.html"><i class="fa fa-check"></i>Chapter 11 - Principal component analysis</a></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">INFO 6270 - Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-4---working-with-strings" class="section level1 unnumbered">
<h1>Chapter 4 - Working with strings</h1>
<div id="learning-objectives-3" class="section level2 unnumbered">
<h2>Learning objectives</h2>
<ul>
<li><p>Transform strings</p></li>
<li><p>Combine strings</p></li>
<li><p>Split strings</p></li>
<li><p>Subset strings</p></li>
</ul>
</div>
<div id="dealing-with-messy-or-unstructured-data" class="section level2 unnumbered">
<h2>Dealing with messy or unstructured data</h2>
<p>In the last chapter, we focused on how to import data into tibbles and then reshape them so that they fit the tidy data criteria. So in most cases, we had data with <strong>some</strong> structure which we transformed into a different structure. This week we look at working with strings for three reasons.</p>
<div id="cleaning-messy-data" class="section level3 unnumbered">
<h3>Cleaning messy data</h3>
<p>Sometimes you may be dealing with data that has the correct tidy structure, but the data itself is not clean and contains errors, unnecessary characters, or unwanted spelling or formatting variants. We need to clean that data before we conduct our analysis.</p>
<table>
<thead>
<tr class="header">
<th align="left">full_names (messy)</th>
<th align="left">full_names (tidy)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Colin Conrad, PhD</td>
<td align="left">Colin Conrad</td>
</tr>
<tr class="even">
<td align="left">MACDONALD, Betrum</td>
<td align="left">Bertrum MacDonald</td>
</tr>
<tr class="odd">
<td align="left">Dr. Louise Spiteri</td>
<td align="left">Louise Spiteri</td>
</tr>
<tr class="even">
<td align="left">Mongeon, Philippe</td>
<td align="left">Philippe Mongeon</td>
</tr>
<tr class="odd">
<td align="left">jennifer grek-martin</td>
<td align="left">Jennier Grek-Martin</td>
</tr>
</tbody>
</table>
</div>
<div id="filtering-rows-based-on-string-matches" class="section level3 unnumbered">
<h3>Filtering rows based on string matches</h3>
<p>In the last chapter, we learned how to filter rows of a tibble based on the value contained in a cell or based on the row number. This week we will add to our toolbox some string matching functions that check if a string of characters is found within a larger string of character. One example could be retrieving a set of course codes starting with INFO or MGMT in a vector containing the course codes of all offerings of Dalhousie University.</p>
</div>
<div id="extracting-data-from-text" class="section level3 unnumbered">
<h3>Extracting data from text</h3>
<p>Sometimes you may have to deal with unstructured data, for example a long character string, that contain data elements that we wish to extract. Take this character string for example:</p>
<blockquote>
<p>I am taking several courses offered at SIM this Winter. There is INFO6270 (Introduction to Data Science) and also INFO6540 and the information policy one, which I think has the course code INFO6610.</p>
</blockquote>
<p>Maybe you had the brilliant idea to use a free text field in a survey to collect information about the courses that students are taking this Winter, and you now have three thousands responses that look like this one. This is unstructured data that needs to be structured before it can be analyzed. And there are situations, such as this specific example, where R might be able to help at least a little bit. However, this kind of task can be simple in some cases but can also get very complex. In this course we are not going to do complex data extractions of this kind, but we will perform some analysis on full texts in Chapter 7 on topic modelling.</p>
</div>
</div>
<div id="the-stringr-package" class="section level2 unnumbered">
<h2>The stringr package</h2>
<p>The <strong>stringr</strong> package (<a href="https://stringr.tidyverse.org" class="uri">https://stringr.tidyverse.org</a>) is part of the tidyverse and contains a collection of functions that perform all kinds of operations on strings. Let’s go through some of those tasks and some code examples.</p>
<div id="transforming-strings" class="section level3 unnumbered">
<h3>Transforming strings</h3>
<div id="change-string-character-case" class="section level4 unnumbered">
<h4>change string character case</h4>
<p>One of the simple transformation that you may want to perform on a string is changing its case. This is very easily done with the <strong>str_to_lower()</strong>, <strong>str_to_upper()</strong>, <strong>str_to_sentence()</strong>, and <strong>str_to_title()</strong> functions.</p>
<table>
<thead>
<tr class="header">
<th align="left">Statement</th>
<th align="left">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">str_to_lower(“HeLlO WoRlD!”)</td>
<td align="left">hello world!</td>
</tr>
<tr class="even">
<td align="left">str_to_lower(“HeLlO WoRlD!”)</td>
<td align="left">HELLO WORLD!</td>
</tr>
<tr class="odd">
<td align="left">str_to_sentence(“HeLlO WoRlD!”)</td>
<td align="left">Hello world!</td>
</tr>
<tr class="even">
<td align="left">str_to_title(“HeLlO WoRlD!”)</td>
<td align="left">Hello World!</td>
</tr>
</tbody>
</table>
</div>
<div id="replace-part-of-strings" class="section level4" number="0.0.0.2">
<h4><span class="header-section-number">0.0.0.2</span> Replace part of strings</h4>
<p>The functions <strong>str_replace()</strong> and <strong>str_replace_all()</strong> can be used to modify strings by replacing some patterns with some other. The difference between the two is that str_replace() will only replace the first instance of the pattern in the string, while str_replace_all() will replace all the instances.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="chapter-4---working-with-strings.html#cb1-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Dr. Mike Smit&quot;</span>,<span class="st">&quot;Dr. Sandra Toze&quot;</span>)</span>
<span id="cb1-2"><a href="chapter-4---working-with-strings.html#cb1-2" aria-hidden="true" tabindex="-1"></a>names <span class="sc">%&gt;%</span> <span class="fu">str_replace</span>(<span class="st">&quot;Dr.&quot;</span>,<span class="st">&quot;Doctor&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Doctor Mike Smit&quot;   &quot;Doctor Sandra Toze&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="chapter-4---working-with-strings.html#cb3-1" aria-hidden="true" tabindex="-1"></a>names <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(<span class="st">&quot;Dr.&quot;</span>, <span class="st">&quot;Doctor&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Doctor Mike Smit&quot;   &quot;Doctor Sandra Toze&quot;</code></pre>
<p>The <strong>str_remove()</strong> and <strong>str_remove_all()</strong> are the equivalent of str_replace(“some pattern,” ““) and str_replace_all(”some pattern”, ““), but they don’t require to provide a replacement string, which make the code a bit more clean.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="chapter-4---working-with-strings.html#cb5-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Dr. Mike Smit&quot;</span>,<span class="st">&quot;Dr. Sandra Toze&quot;</span>)</span>
<span id="cb5-2"><a href="chapter-4---working-with-strings.html#cb5-2" aria-hidden="true" tabindex="-1"></a>names <span class="sc">%&gt;%</span> <span class="fu">str_remove</span>(<span class="st">&quot;Dr. &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Mike Smit&quot;   &quot;Sandra Toze&quot;</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="chapter-4---working-with-strings.html#cb7-1" aria-hidden="true" tabindex="-1"></a>names <span class="sc">%&gt;%</span> <span class="fu">str_remove_all</span>(<span class="st">&quot;Dr. &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Mike Smit&quot;   &quot;Sandra Toze&quot;</code></pre>
</div>
</div>
<div id="clean-up-a-string" class="section level3 unnumbered">
<h3>Clean up a string</h3>
<p>The <strong>str_squish()</strong> function is a quick and easy way to remove unwanted spaces before or after a string, as well as consecutive spaces within a string.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="chapter-4---working-with-strings.html#cb9-1" aria-hidden="true" tabindex="-1"></a>messy_string <span class="ot">&lt;-</span> <span class="st">&quot;   My cat just    stepped on the spacebar  as I was writing this      &quot;</span></span>
<span id="cb9-2"><a href="chapter-4---working-with-strings.html#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="chapter-4---working-with-strings.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s print the string to see what it looks like</span></span>
<span id="cb9-4"><a href="chapter-4---working-with-strings.html#cb9-4" aria-hidden="true" tabindex="-1"></a>messy_string</span></code></pre></div>
<pre><code>## [1] &quot;   My cat just    stepped on the spacebar  as I was writing this      &quot;</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="chapter-4---working-with-strings.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s squish it!</span></span>
<span id="cb11-2"><a href="chapter-4---working-with-strings.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_squish</span>(messy_string)</span></code></pre></div>
<pre><code>## [1] &quot;My cat just stepped on the spacebar as I was writing this&quot;</code></pre>
</div>
<div id="combine-strings" class="section level3 unnumbered">
<h3>Combine strings</h3>
<div id="str_c" class="section level4 unnumbered">
<h4>str_c()</h4>
<p>We already learned how to use the unite() function of the tidyr package to concatenate multiple dataframe columns into one. However, the unite() function works only with dataframes as input, which can be limiting. The stringr package offers a str_c() function that works with vectors, so it’s good to know how to use both functions.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="chapter-4---working-with-strings.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using str_c with two vector</span></span>
<span id="cb13-2"><a href="chapter-4---working-with-strings.html#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="chapter-4---working-with-strings.html#cb13-3" aria-hidden="true" tabindex="-1"></a>first_names <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Bertrum&quot;</span>, <span class="st">&quot;Colin&quot;</span>, <span class="st">&quot;Louise&quot;</span>)</span>
<span id="cb13-4"><a href="chapter-4---working-with-strings.html#cb13-4" aria-hidden="true" tabindex="-1"></a>last_names <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;MacDonald&quot;</span>, <span class="st">&quot;Conrad&quot;</span>, <span class="st">&quot;Spiteri&quot;</span>)</span>
<span id="cb13-5"><a href="chapter-4---working-with-strings.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(first_names, last_names, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Bertrum MacDonald&quot; &quot;Colin Conrad&quot;      &quot;Louise Spiteri&quot;</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="chapter-4---working-with-strings.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using str_c with two columns in a tibble</span></span>
<span id="cb15-2"><a href="chapter-4---working-with-strings.html#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="chapter-4---working-with-strings.html#cb15-3" aria-hidden="true" tabindex="-1"></a>names <span class="ot">=</span> <span class="fu">tibble</span>(<span class="at">first_name =</span> <span class="fu">c</span>(<span class="st">&quot;Bertrum&quot;</span>, <span class="st">&quot;Colin&quot;</span>, <span class="st">&quot;Louise&quot;</span>),</span>
<span id="cb15-4"><a href="chapter-4---working-with-strings.html#cb15-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">last_name =</span> <span class="fu">c</span>(<span class="st">&quot;MacDonald&quot;</span>, <span class="st">&quot;Conrad&quot;</span>, <span class="st">&quot;Spiteri&quot;</span>))</span>
<span id="cb15-5"><a href="chapter-4---working-with-strings.html#cb15-5" aria-hidden="true" tabindex="-1"></a>names <span class="sc">%&gt;%</span> </span>
<span id="cb15-6"><a href="chapter-4---working-with-strings.html#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">full_name =</span> <span class="fu">str_c</span>(first_name, last_name, <span class="at">sep=</span><span class="st">&quot; &quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   first_name last_name full_name        
##   &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;            
## 1 Bertrum    MacDonald Bertrum MacDonald
## 2 Colin      Conrad    Colin Conrad     
## 3 Louise     Spiteri   Louise Spiteri</code></pre>
</div>
</div>
<div id="splitting-strings" class="section level3 unnumbered">
<h3>Splitting strings</h3>
<div id="str_split" class="section level4 unnumbered">
<h4>str_split()</h4>
<p>The <strong>str_split()</strong> function does the same thing than the <strong>separate()</strong> function that we learned about in chapter 3. They have slightly different syntax and arguments, but the main difference between the two functions is that str_split() works with <strong>vectors</strong> and returns a list, while separate() works with <strong>daraframes</strong> and returns a dataframe. In other words, if you want to split a string contained in a dataframe column, you need to use separate(), and if you want to split a character vector into a list of character vectors. the <strong>n</strong> argument of str_split() allows you to specify the length of the returned vector.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="chapter-4---working-with-strings.html#cb17-1" aria-hidden="true" tabindex="-1"></a>courses <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;INFO5500, INFO6540, INFO6270&quot;</span>,</span>
<span id="cb17-2"><a href="chapter-4---working-with-strings.html#cb17-2" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;INFO5500&quot;</span>,</span>
<span id="cb17-3"><a href="chapter-4---working-with-strings.html#cb17-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;INFO5530, INFO5520&quot;</span>)</span>
<span id="cb17-4"><a href="chapter-4---working-with-strings.html#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="chapter-4---working-with-strings.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># str_split seperates the vectors based on a specified delimiter</span></span>
<span id="cb17-6"><a href="chapter-4---working-with-strings.html#cb17-6" aria-hidden="true" tabindex="-1"></a>courses <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="chapter-4---working-with-strings.html#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split</span>(<span class="st">&quot;, &quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;INFO5500&quot; &quot;INFO6540&quot; &quot;INFO6270&quot;
## 
## [[2]]
## [1] &quot;INFO5500&quot;
## 
## [[3]]
## [1] &quot;INFO5530&quot; &quot;INFO5520&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="chapter-4---working-with-strings.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we can also specify the MAXIMUM number of &quot;pieces&quot; we want to split the string into</span></span>
<span id="cb19-2"><a href="chapter-4---working-with-strings.html#cb19-2" aria-hidden="true" tabindex="-1"></a>courses <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="chapter-4---working-with-strings.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split</span>(<span class="st">&quot;, &quot;</span>,<span class="at">n=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;INFO5500&quot;           &quot;INFO6540, INFO6270&quot;
## 
## [[2]]
## [1] &quot;INFO5500&quot;
## 
## [[3]]
## [1] &quot;INFO5530&quot; &quot;INFO5520&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="chapter-4---working-with-strings.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># or we can specify the EXACT number of &quot;pieces&quot; we want to split the string into</span></span>
<span id="cb21-2"><a href="chapter-4---working-with-strings.html#cb21-2" aria-hidden="true" tabindex="-1"></a>courses <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="chapter-4---working-with-strings.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split_fixed</span>(<span class="st">&quot;, &quot;</span>,<span class="at">n=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>##      [,1]       [,2]       [,3]       [,4]
## [1,] &quot;INFO5500&quot; &quot;INFO6540&quot; &quot;INFO6270&quot; &quot;&quot;  
## [2,] &quot;INFO5500&quot; &quot;&quot;         &quot;&quot;         &quot;&quot;  
## [3,] &quot;INFO5530&quot; &quot;INFO5520&quot; &quot;&quot;         &quot;&quot;</code></pre>
</div>
<div id="str_flatten" class="section level4 unnumbered">
<h4>str_flatten()</h4>
<p>Flatten takes a character vector of length <em>x</em> and concatenates all the elements into a character vector of length 1 (a single string) with a specified separator between the elements.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="chapter-4---working-with-strings.html#cb23-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)</span>
<span id="cb23-2"><a href="chapter-4---working-with-strings.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_flatten</span>(x, <span class="st">&quot;|&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a|b|c&quot;</code></pre>
</div>
</div>
<div id="subsetting-strings" class="section level3 unnumbered">
<h3>Subsetting strings</h3>
<div id="str_sub" class="section level4 unnumbered">
<h4>str_sub()</h4>
<p>Say you want to retrieve the first three characters of a postal code, you can do it with the str_sub() function</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="chapter-4---working-with-strings.html#cb25-1" aria-hidden="true" tabindex="-1"></a>postal_code <span class="ot">&lt;-</span> <span class="st">&quot;B3H 4R2&quot;</span></span>
<span id="cb25-2"><a href="chapter-4---working-with-strings.html#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="chapter-4---working-with-strings.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># get the first three characters of the postal code</span></span>
<span id="cb25-4"><a href="chapter-4---working-with-strings.html#cb25-4" aria-hidden="true" tabindex="-1"></a>postal_code <span class="sc">%&gt;%</span> </span>
<span id="cb25-5"><a href="chapter-4---working-with-strings.html#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_sub</span>(<span class="dv">1</span>,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;B3H&quot;</code></pre>
<p>You can also retrieve the last characters of the string using negative numbers. Let’s get the last three characters of the postal code.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="chapter-4---working-with-strings.html#cb27-1" aria-hidden="true" tabindex="-1"></a>postal_code <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="chapter-4---working-with-strings.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_sub</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;4R2&quot;</code></pre>
</div>
<div id="str_subset" class="section level4 unnumbered">
<h4>str_subset()</h4>
<p>The str_sub() function should not be confused with the str_subset() functions that returns the element of a vector that contain a string.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="chapter-4---working-with-strings.html#cb29-1" aria-hidden="true" tabindex="-1"></a>course_codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;INFO5500&quot;</span>, <span class="st">&quot;BUSI6500&quot;</span>, <span class="st">&quot;MGMT5000&quot;</span>, <span class="st">&quot;INFO6270&quot;</span>)</span>
<span id="cb29-2"><a href="chapter-4---working-with-strings.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(course_codes, <span class="st">&quot;INFO&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="testing-strings" class="section level3 unnumbered">
<h3>Testing strings</h3>
<p>Rather than extracting parts of strings, or modifying strings, you may just want to test to see if a strings contains a specific pattern and get a logical (TRUE, FALSE) in return.</p>
<div id="str_detect" class="section level4" number="0.0.0.3">
<h4><span class="header-section-number">0.0.0.3</span> str_detect()</h4>
</div>
</div>
<div id="regular-expressions-regex" class="section level3 unnumbered">
<h3>Regular expressions (regex)</h3>
<p>Regular expressions are a powerful way to search for patterns in text. A full understanding of regex is far beyond the scope of this course, but you should at least be aware of them. Below is a very superficial introduction to regular expressions. If you want</p>
<p>In the code examples above, we used several functions of the stringr package to search for patterns in strings (e.g., searching for the pattern “INFO” in a vector of strings.). “INFO” is a literal expression.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="chapter-4---working-with-strings.html#cb30-1" aria-hidden="true" tabindex="-1"></a>addresses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;5058 King St, Halifax, NS H2T 1J2&quot;</span>,<span class="st">&quot;427 Queen Avernue, Halifax, NS, B3H1H4&quot;</span>) </span>
<span id="cb30-2"><a href="chapter-4---working-with-strings.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-3"><a href="chapter-4---working-with-strings.html#cb30-3" aria-hidden="true" tabindex="-1"></a>addresses <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="chapter-4---working-with-strings.html#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_extract</span>(<span class="st">&quot;[:alpha:][:digit:][:alpha:] ?[:digit:][:alpha:][:digit:]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;H2T 1J2&quot; &quot;B3H1H4&quot;</code></pre>
<div id="remove-unwanted-characters-from-strings" class="section level4 unnumbered">
<h4>Remove unwanted characters from strings</h4>
<p>You can use regular expressions to filter out of a string all the non-alphanumeric characters like this:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="chapter-4---working-with-strings.html#cb32-1" aria-hidden="true" tabindex="-1"></a>another_mess <span class="ot">&lt;-</span> <span class="st">&quot; what-is%going*on/with!my(keyboard)&quot;</span></span>
<span id="cb32-2"><a href="chapter-4---working-with-strings.html#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="chapter-4---working-with-strings.html#cb32-3" aria-hidden="true" tabindex="-1"></a>another_mess <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="chapter-4---working-with-strings.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">&quot;[^[:alnum:]]&quot;</span>,<span class="st">&quot; &quot;</span>) </span></code></pre></div>
<pre><code>## [1] &quot; what is going on with my keyboard &quot;</code></pre>
</div>
</div>
<div id="dealing-with-special-characters" class="section level3 unnumbered">
<h3>Dealing with special characters</h3>
<p>Here a some of the characters that you might come across when working with strings in R. When you want to insert these characters a string, you need to precede them with the escape character “\.”</p>
<table>
<thead>
<tr class="header">
<th align="left">Special character</th>
<th align="left">Represents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">\n</td>
<td align="left">newline</td>
</tr>
<tr class="even">
<td align="left">\t</td>
<td align="left">tab</td>
</tr>
<tr class="odd">
<td align="left">\\</td>
<td align="left">backslash \</td>
</tr>
<tr class="even">
<td align="left">\’</td>
<td align="left">apostrophe ’</td>
</tr>
<tr class="odd">
<td align="left">\”</td>
<td align="left">quotation mark ”</td>
</tr>
<tr class="even">
<td align="left">\`</td>
<td align="left">backtick `</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="chapter-4---working-with-strings.html#cb34-1" aria-hidden="true" tabindex="-1"></a>string <span class="ot">&lt;-</span> <span class="st">&quot;Dear diary</span><span class="sc">\n</span><span class="st">What is wrong with me</span><span class="sc">\n</span><span class="st">My code never works as I entend&quot;</span></span>
<span id="cb34-2"><a href="chapter-4---working-with-strings.html#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="chapter-4---working-with-strings.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># If we just print the string, we see it exactly as written.</span></span>
<span id="cb34-4"><a href="chapter-4---working-with-strings.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(string)</span></code></pre></div>
<pre><code>## [1] &quot;Dear diary\nWhat is wrong with me\nMy code never works as I entend&quot;</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="chapter-4---working-with-strings.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The writeLines() function can be used to print the string where escaped characters are interpreted.</span></span>
<span id="cb36-2"><a href="chapter-4---working-with-strings.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(string)</span></code></pre></div>
<pre><code>## Dear diary
## What is wrong with me
## My code never works as I entend</code></pre>
<p>Let’s read a text file (.txt) in R and see what happens.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="chapter-4---working-with-strings.html#cb38-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://pmongeon.github.io/info6270/files/boring_story.txt&quot;</span></span>
<span id="cb38-2"><a href="chapter-4---working-with-strings.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_lines</span>(url) <span class="co"># reads the file and produces a vector with one element for each line</span></span></code></pre></div>
<pre><code>## [1] &quot;This is a \&quot;story\&quot; that I wrote just for the INFO6270 course.&quot;               
## [2] &quot;It&#39;s a bit of a boring story, but it&#39;s just an example. So please forgive me.&quot;
## [3] &quot;...and they were happy ever after.\tThe end.&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="chapter-4---working-with-strings.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_file</span>(url) <span class="co"># reads the file and procudes a vector with a single element containing the entire content</span></span></code></pre></div>
<pre><code>## [1] &quot;This is a \&quot;story\&quot; that I wrote just for the INFO6270 course.\nIt&#39;s a bit of a boring story, but it&#39;s just an example. So please forgive me.\n...and they were happy ever after.\tThe end.&quot;</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="chapter-4---working-with-strings.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s read the whole file and print it with writeLines()</span></span>
<span id="cb42-2"><a href="chapter-4---working-with-strings.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_file</span>(url) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="chapter-4---working-with-strings.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">writeLines</span>()</span></code></pre></div>
<pre><code>## This is a &quot;story&quot; that I wrote just for the INFO6270 course.
## It&#39;s a bit of a boring story, but it&#39;s just an example. So please forgive me.
## ...and they were happy ever after.   The end.</code></pre>
</div>
</div>
<div id="homework-3" class="section level2 unnumbered">
<h2>Homework</h2>
<p>Your homework for this week is to complete <a href="https://pmongeon.github.io/files/assignments/info6270_lab3.r">lab #3</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter-3---reading-and-tidying-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter-5---describing-and-visualizing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
